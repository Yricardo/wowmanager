{% extends 'member/member_base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/template-grid-layout/member_grid_custom_free.js') }}"></script>
{% endblock %}

{% block main %}
    {% embed 'member/member_base_layouts/member_base_free_grid.html.twig' %}
        {% block midle %}
            <h2>{{ app.user.username }}</h2>
            <p>Global Metrics:</p>
            <div class="metrics-container">
                <div class="metric-card">
                    <span class="metric-icon">👮</span>
                    <div class="metric-details">
                        <strong>Trust Score:</strong>
                        <p>{{ app.user.trustScore }}</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">💰</span>
                    <div class="metric-details">
                        <strong>Awaiting Gold Amount:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">📈</span>
                    <div class="metric-details">
                        <strong>Current Selling item Value:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">🏰</span>
                    <div class="metric-details">
                        <strong>Guilds Joined:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">🤝</span>
                    <div class="metric-details">
                        <strong>Number of Friends:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">📅</span>
                    <div class="metric-details">
                        <strong>Events to Come:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">⏳</span>
                    <div class="metric-details">
                        <strong>Past Events:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">📦</span>
                    <div class="metric-details">
                        <strong>Ongoing Auctions:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">🛒</span>
                    <div class="metric-details">
                        <strong>Items Sold:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">🛍️</span>
                    <div class="metric-details">
                        <strong>Items Bought:</strong>
                        <p>X</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">📋</span>
                    <div class="metric-details">
                        <strong>Items Listed:</strong>
                        <p>X</p>
                    </div>
                </div>
            </div>
        {% endblock %}

        {% block right %}
            <h2>Characters</h2>
            {% if app.user.characters|length > 0 %}
                <div class="character-list">
                    {% for character in app.user.characters %}
                        <div class="character-card">
                            <div class="character-icon">
                                <img src="{% if character.characterClass.classImgPath is not null %} 
                                    {{ asset(character.characterClass.classImgPath) }} 
                                    {% else %} 
                                    {{ asset('images/undefinedcharacterimg.jpg') }} 
                                    {% endif %}" 
                                    alt="{{ character.name }}">
                            </div>
                            <div class="character-details">
                                <h3>{{ character.name }}</h3>
                                <p><strong>Class:</strong> {{ character.characterClass.name }}</p>
                                <p><strong>Level:</strong> {{ character.level }}</p>
                                <p><strong>Gear Level:</strong> {{ character.gearLevel | default("noob") }}</p>
                                <p><strong>Guild:</strong> {{ character.guild.name | default("no guild") }}</p>
                            </div>
                            <div class="character-links">
                                <a href="#" class="character-link">⚖️</a>
                                <a href="#" class="character-link">📅</a>
                                <a href="#" class="character-link">💰</a>
                                <a href="#" class="character-link">❌</a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>No characters found for this user.</p>
            {% endif %}
            <br>
            <button class="button-6" role="button">Add</button>
        {% endblock %}
    {% endembed %}
{% endblock %}