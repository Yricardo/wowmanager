{% extends 'member/member_base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/template-grid-layout/member_grid_custom_overview.js') }}"></script>
{% endblock %}

{% block template %}
    {% embed 'member/member_base_layouts/member_base_overview_grid.html.twig' %}
        {% block midle %}
            <h2>{{ app.user.username }}</h2>
            <p>Global Metrics:</p>
            <div class="metrics-container">
                <div class="metric-card">
                    <span class="metric-icon">‚öñÔ∏è</span>
                    <div class="metric-details">
                        <strong>Trust Score:</strong>
                        <p>TODO IMPLEMENT</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üí∞</span>
                    <div class="metric-details">
                        <strong>Awaiting Gold Amount:</strong>
                        <p>TODO IMPLEMENT</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üìà</span>
                    <div class="metric-details">
                        <strong>Current Selling Value:</strong>
                        <p>TODO EXTRACT INFORMATION ON CONTROLLER</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üè∞</span>
                    <div class="metric-details">
                        <strong>Number of Guilds Joined:</strong>
                        <p>TODO EXTRACT WITH FILTER FROM DATA MODEL</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">ü§ù</span>
                    <div class="metric-details">
                        <strong>Number of Friends:</strong>
                        <p>FROM DATA MODEL</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üìÖ</span>
                    <div class="metric-details">
                        <strong>Events to Come:</strong>
                        <p>FROM DATA MODEL</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">‚è≥</span>
                    <div class="metric-details">
                        <strong>Past Events:</strong>
                        <p>FROM DATA MODEL</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üì¶</span>
                    <div class="metric-details">
                        <strong>Ongoing Auctions:</strong>
                        <p>FROM DATA MODEL</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üõí</span>
                    <div class="metric-details">
                        <strong>Items Sold:</strong>
                        <p>FROM DATA MODEL</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üõçÔ∏è</span>
                    <div class="metric-details">
                        <strong>Items Bought:</strong>
                        <p>FROM DATA MODEL</p>
                    </div>
                </div>
                <div class="metric-card">
                    <span class="metric-icon">üìã</span>
                    <div class="metric-details">
                        <strong>Items Listed:</strong>
                        <p>FROM DATA MODEL</p>
                    </div>
                </div>
            </div>
        {% endblock %}

        {% block right %}
            <h2>Characters</h2>
            {% if app.user.characters|length > 0 %}
                <div class="character-list">
                    {% for character in app.user.characters %}
                        <div class="character-card">
                            <div class="character-icon">
                                <img src="{% if character.characterClass.classImgPath is not null %} 
                                    {{ asset(character.characterClass.classImgPath) }} 
                                    {% else %} 
                                    {{ asset('images/undefinedcharacterimg.jpg') }} 
                                    {% endif %}" 
                                    alt="{{ character.name }}">
                            </div>
                            <div class="character-details">
                                <h3>{{ character.name }}</h3>
                                <p><strong>Class:</strong> {{ character.characterClass.name }}</p>
                                <p><strong>Level:</strong> {{ character.level }}</p>
                                <p><strong>Gear Level:</strong> {{ character.gearLevel | default("noob") }}</p>
                                <p><strong>Guild:</strong> {{ character.guild.name | default("no guild") }}</p>
                            </div>
                            <div class="character-links">
                                <a href="#" class="character-link">Shared Items</a>
                                <a href="#" class="character-link">Events</a>
                                <a href="#" class="character-link">Bank</a>
                                <a href="#" class="character-link">Guild</a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>No characters found for this user.</p>
            {% endif %}
            <br>
            <button class="button-6" role="button">Add</button>
        {% endblock %}
    {% endembed %}
{% endblock %}