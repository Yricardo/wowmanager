{% extends 'member/member_base.html.twig' %}

{% block template %}
    {% embed 'member/member_base_layouts/member_base_free_grid.html.twig' %}
        {% block midle %}
                        <!-- Invitation Form -->
                        <form method="post" href="{{path('app_member_create_invitation')}}" style="margin-bottom: 2rem;">
                            <!-- Email Input Container -->
                            <div style="margin-bottom: 2rem; position: relative;">
                                <div style="position: relative; display: inline-block; width: 100%;">
                                    <!-- Glowing Border Effect -->
                                    <div style="position: absolute; inset: -2px; background: linear-gradient(45deg, #4f8cff, #9b59b6, #e67e22, #4f8cff); border-radius: 16px; opacity: 0.8; filter: blur(8px); z-index: -1;"></div>
                                    
                                    <!-- Email Input -->
                                    <input type="email" 
                                           name="email" 
                                           id="email" 
                                           required 
                                           placeholder="Enter adventurer's email address..."
                                           style="width: 100%; 
                                                  padding: 1.5rem 2rem; 
                                                  font-size: 1.3rem; 
                                                  border: none; 
                                                  border-radius: 14px; 
                                                  background: linear-gradient(135deg, #2c3136 0%, #1a1d21 100%); 
                                                  color: #fff; 
                                                  text-align: center;
                                                  box-shadow: inset 0 2px 8px rgba(0,0,0,0.3);
                                                  transition: all 0.3s ease;
                                                  outline: none;"
                                           onfocus="this.style.boxShadow='inset 0 2px 8px rgba(0,0,0,0.3), 0 0 20px rgba(79,140,255,0.4)'; this.style.transform='scale(1.02)'"
                                           onblur="this.style.boxShadow='inset 0 2px 8px rgba(0,0,0,0.3)'; this.style.transform='scale(1)'">
                                </div>
                                
                                <!-- Email Icon -->
                                <div style="position: absolute; left: 1.5rem; top: 50%; transform: translateY(-50%); font-size: 1.5rem; color: #4f8cff; pointer-events: none;">
                                    ðŸ“§
                                </div>
                            </div>

                            <!-- Optional Personal Message -->
                            <div style="margin-bottom: 2.5rem;">
                                <textarea name="personalMessage" 
                                          placeholder="Add a personal welcome message (optional)..."
                                          rows="3"
                                          style="width: 100%; 
                                                 padding: 1rem 1.5rem; 
                                                 font-size: 1rem; 
                                                 border: 2px solid #444; 
                                                 border-radius: 12px; 
                                                 background: #2c3136; 
                                                 color: #fff; 
                                                 resize: vertical;
                                                 transition: all 0.3s ease;
                                                 outline: none;"
                                          onfocus="this.style.borderColor='#4f8cff'; this.style.boxShadow='0 0 15px rgba(79,140,255,0.3)'"
                                          onblur="this.style.borderColor='#444'; this.style.boxShadow='none'"></textarea>
                            </div>

                            <!-- Epic Submit Button -->
                            <button type="submit" 
                                    style="background: linear-gradient(135deg, #4f8cff 0%, #9b59b6 50%, #e67e22 100%);
                                           border: none;
                                           padding: 1.2rem 3rem;
                                           font-size: 1.3rem;
                                           font-weight: bold;
                                           color: #fff;
                                           border-radius: 50px;
                                           cursor: pointer;
                                           position: relative;
                                           overflow: hidden;
                                           text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
                                           box-shadow: 0 6px 20px rgba(79,140,255,0.4);
                                           transition: all 0.3s ease;
                                           background-size: 200% 200%;
                                           animation: gradientShift 3s ease infinite;"
                                    onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 30px rgba(79,140,255,0.6)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 20px rgba(79,140,255,0.4)'">
                                
                                <!-- Button Content -->
                                <span style="position: relative; z-index: 2; display: flex; align-items: center; justify-content: center; gap: 0.75rem;">
                                    <span style="font-size: 1.4rem;">ðŸš€</span>
                                    Send Invitation
                                    <span style="font-size: 1.2rem;">âœ¨</span>
                                </span>
                                
                                <!-- Shimmer Effect -->
                                <div style="position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.6s ease; z-index: 1;"
                                     id="shimmer"></div>
                            </button>
                        </form>

            <!-- Form Enhancement JavaScript -->
            <script>
                // Auto-focus email input
                document.getElementById('email').focus();
                
                // Email validation with visual feedback
                const emailInput = document.getElementById('email');
                emailInput.addEventListener('input', function() {
                    const isValid = this.checkValidity();
                    if (isValid && this.value.length > 0) {
                        this.style.borderLeft = '4px solid #4caf50';
                    } else if (this.value.length > 0) {
                        this.style.borderLeft = '4px solid #e74c3c';
                    } else {
                        this.style.borderLeft = 'none';
                    }
                });
            </script>
        {% endblock %}
    {% endembed %}
{% endblock %}